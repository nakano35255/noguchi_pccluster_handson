# Vim入門

研究室のサーバー（PCクラスタなど）に接続して作業する際、利用できるテキストエディタの種類が限られてくる。
そんな環境で標準的に使用されるエディタの一つがVimである。
Vimはどの環境にも必ずインストールされているので、これを使うことができればこれから困ることはない。

このノートの目的は、Vimを使用して簡単なファイルの閲覧や修正をできるようになることである。
自前のPCでは自分の好きなエディタを使えばよいので、Vimの使用法を完全にマスターする必要はない。
以下にまとめるくらいのことをとりあえず理解しておこう。

より詳しい使用法を知りたい人は以下を参照のこと。
https://github.com/kaityo256/lab_startup/blob/main/vim/README.md


## 2つの「モード」
Vimが他のエディタと決定的に違うのは、「モード」 という概念があることにある。
Vimには主に2つのモードがあり、これらを意識的に切り替えながら使用する。

* **① ノーマルモード (Normal Mode)**
    * Vimを起動したときの**基本状態**
    * このモードでは、キーボードのキーは**コマンド（命令）**として機能する。

* **② インサートモード (Insert Mode)**


この2つのモードの行き来が、Vim操作の基本である。

* ノーマルモード → インサートモードへ: `i` キーを押す

* インサートモード → ノーマルモードへ: `Esc` キーを押す

`i`で入力モードへ、`Esc`でコマンドのモードへ戻る、と覚える。
「文字が打てない？」と思ったら、まず`Esc`キーを押して、基本のノーマルモードに戻り、そこで一旦落ち着こう。


## Vimを起動し、文字を書き込んで、保存して終了する。

### Vimを起動する

ターミナルで以下のコマンドを入力して `Enter` キーを押してください。`practice.txt` という名前の新しいファイルを作成し、Vimで開く。

```sh
vim practice.txt
```

このコマンドを入力すると、以下の画像のようにterminalの左下に`practice.txt [New]`と表示される。


### インサートモードに切り替える

Vimは起動時にはノーマルモードとなっている。
このままでは、文字をファイルに書き込めないので、`i`キーを押し、インサートモードへと切り替えよう。

インサートモードに移り変わると、以下の画像のようにterminalの左下に`-- INSERT --`と表示される。
インサートモードの間は基本的に`-- INSERT --`が表示されている。
この状態では文字が打ち込めるようになっている。

### 文字を入力する

キーボードで好きな文字を打ってみよう。例えば、Hello, Vim! と入力する。

### ノーマルモードに戻る

一通り文字の入力が終わったら、`Esc`キーを押してノーマルモードに戻る。
左下の -- INSERT -- が消えていれば、インサートモードから切り替わっていることになる。

### 保存して終了する

ノーマルモードの状態で`:wq`と入力して`Enter`を押す。

ノーマルモードで":"から書き込みを始めると、その内容が左下に表示される。


`:wq`はWrite (書き込み) & Quit (終了) を意味するコマンドであり、保存して終了するときに用いられる。

### 中身の確認

terminal上に以下のコマンドを入力して、`practice.txt`に書き込んだ内容を書き人してみよう。

```sh
cat practice.txt
```

以下のように、自分が先ほど書き込んだ内容が表示されていれば成功である。


### Vimの終了方法

上では、`:wq`コマンドでvimを終了したが、このコマンドは`保存して終了`したいときに用いられる。
何もvim上で作業していないときに、単に終了するときには`:q`と入力すれば良い。

また、ファイルに書き込みを行ったが、保存せずに終了したいときには`:q!`と入力すれば良い。


これら以外にもさまざまなコマンドが存在する。
それらは例えば、
https://github.com/kaityo256/lab_startup/blob/main/vim/README.md
に解説されているので、そちらを参照のこと。